{"version":3,"sources":["images/Vector.svg","components/Header.js","images/pen.svg","images/krest.svg","images/Trash.svg","contexts/CurrentUserContext.js","components/Card.js","contexts/CardsContext.js","components/Main.js","components/Footer.js","images/Close.svg","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","utils/api.js","components/AddPlacePopup.js","components/ImagePopup.js","components/PopupDelete.js","components/Registration.js","components/Login.js","components/ProtectedRoute.js","utils/auth.js","images/Err.svg","images/Ok.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","vector","alt","email","to","link","onClick","signOut","title","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","trash","onCardClick","name","aria-label","type","onCardLike","console","log","CardsContext","Main","cards","avatar","onEditAvatar","id","about","onEditProfile","pen","onAddPlace","krest","map","length","Footer","PopupWithForm","children","isOpen","onClose","onSubmit","buttonText","noValidate","value","close","EditAvatarPopup","useState","buttonValue","avatarRef","useRef","evt","preventDefault","onUpdateAvatar","current","submitButtonValue","placeholder","required","ref","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","onChange","target","api","adress","token","this","_adress","_token","res","ok","json","Promise","reject","Error","status","fetch","headers","authorization","then","_checkApiRequest","all","getUserInfo","getCard","profession","method","body","JSON","stringify","data","AddPlacePopup","setTitle","setLink","ImagePopup","PopupDelete","Registr","emailInput","passwordInput","href","e","onRegister","Login","onLogIn","ProtectedRoute","Component","component","loggedIn","BASE_URL","handleOriginalResponse","response","InfoTooltip","isOk","Ok","Err","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","isDeletePopupOpen","setIsDeletePopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","setCurrentUser","deletedCard","setDeletedCard","setCards","setLoggedIn","tooltip","setTooltip","setEmail","history","useHistory","closeAllPopups","jwt","localStorage","getItem","catch","err","tokenCheck","getInitialData","userData","cardsData","push","Provider","removeItem","editAvatar","editUserInfo","addCard","deleteCard","filter","path","changeLikeCardStatus","newCard","state","c","password","auth","setItem","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.82ea8070.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.03b78ada.svg\";","import vector from \"../images/Vector.svg\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction Header (props) {\r\n    function handleSignOut(){\r\n        props.signOut();\r\n    };\r\n    return(\r\n    <header className=\"header\">\r\n        <img src={vector} className=\"header__logo\" alt=\"Место\"/>\r\n        <div className=\"header__info\">\r\n            <p className=\"header__text\">{props.email}</p>\r\n            <Link to={props.link}><p onClick={props.signOut && handleSignOut} className=\"header__btn\">{props.title}</p></Link>\r\n        </div>\r\n    </header>\r\n    );\r\n}\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/pen.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/krest.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/Trash.a274c87c.svg\";","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react'\r\nimport trash from \"../images/Trash.svg\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\n\r\nfunction Card(props) {\r\n    function handleCardClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = `card__trash ${\r\n        isOwn ? `card__trash_visible` : ``\r\n    }`;\r\n\r\n    const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = `card__button ${\r\n        isLiked ? `card__button_active` : ``\r\n    }`;\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n        console.log(props.card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n    return (\r\n        <figure className=\"card\">\r\n            <button onClick={handleDeleteClick} className={cardDeleteButtonClassName}>\r\n                <img src={trash} alt=\"Ведро\"/>\r\n            </button>\r\n            <img onClick={handleCardClick} className=\"card__logo\" src={props.link}\r\n                 alt={props.name}/>\r\n            <figcaption className=\"card__figcaption\">\r\n                <h3 className=\"card__title\">{props.name}</h3>\r\n                <div className=\"card__like\">\r\n                    <button aria-label=\"Кнопка нравится\" type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <p className=\"card__score\">{props.likes}</p>\r\n                </div>\r\n            </figcaption>\r\n        </figure>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\n\r\nexport const CardsContext = React.createContext();","\r\nimport pen from \"../images/pen.svg\";\r\nimport krest from \"../images/krest.svg\";\r\nimport {useContext} from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { CardsContext } from \"../contexts/CardsContext\";\r\n\r\n\r\nfunction Main(props) {\r\n    const cards = useContext(CardsContext);\r\n    const currentUser = useContext(CurrentUserContext);\r\n    /** Handlers */\r\n    return(\r\n\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__page\">\r\n                    <div className=\"profile__avatar\">\r\n                        <img src={currentUser.avatar} className=\"profile__logo\" alt={currentUser.name}/>\r\n                        <button onClick={props.onEditAvatar} className=\"profile__avatar-update\" type=\"button\"></button>\r\n                    </div>\r\n                    <div className=\"profile__info\">\r\n                        <div>\r\n                            <h1 className=\"profile__title\" id=\"heading\">{currentUser.name}</h1>\r\n                            <p className=\"profile__subtitle\" id=\"quote\">{currentUser.about}</p>\r\n                        </div>\r\n                        <button onClick={props.onEditProfile} type=\"button\" className=\"profile__rectangle\">\r\n                            <img src={pen} alt=\"Ручка\"/>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <button onClick={props.onAddPlace} type=\"button\" className=\"profile__button\">\r\n                    <img src={krest} alt=\"Крест\" className=\"profile__image\"/>\r\n                </button>\r\n            </section>\r\n            <section className=\"cards\">\r\n                    {cards.map((card) => (\r\n                        <Card\r\n                            key={card._id}\r\n                            link={card.link}\r\n                            name={card.name}\r\n                            likes={card.likes.length}\r\n                            card={card}\r\n                            onCardClick={props.onCardClick}\r\n                            onCardDelete={props.onCardDelete}\r\n                            onCardLike={props.onCardLike}\r\n                        />\r\n                    ))}\r\n            </section>\r\n\r\n        </main>\r\n\r\n    )\r\n}\r\nexport default Main;","\r\nfunction Footer(){\r\n    return(\r\n        <footer className=\"footer\">\r\n            <h2 className=\"footer__copyright\">© 2020-2021 Mesto Russia</h2>\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/Close.a004a2d5.svg\";","import close from \"../images/Close.svg\";\r\n\r\nexport default function PopupWithForm({\r\n      children,\r\n      isOpen,\r\n      name,\r\n      onClose,\r\n      onSubmit,\r\n      title,\r\n      buttonText\r\n  }){\r\n    return (\r\n        <section className={`overlay ${isOpen ? 'overlay_active' : ''}`}>\r\n            <div className=\"popup\">\r\n                <h2 className=\"popup__title\">{title}</h2>\r\n                <form className=\"popup__form\"\r\n                      id={name}\r\n                      name={name}\r\n                      noValidate\r\n                      onSubmit={onSubmit}>\r\n                    {children}\r\n                    <button value={'Сохранить'} type=\"submit\" className=\"popup__submit popup__submit-profile\" >{buttonText}\r\n                    </button>\r\n                </form>\r\n                <button onClick={onClose} type=\"button\"  className=\"overlay__button overlay__button-profile\">\r\n                    <img onClick={onClose} className=\"overlay__image\" src={close} alt=\"Крест\"/>\r\n                </button>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport { useEffect, useRef, useState } from \"react\";\r\nconst DEFAULT_VALUE = \"Сохранить\";\r\nexport default function EditAvatarPopup(props) {\r\n\r\n    const [buttonValue, setButtonValue] = useState(DEFAULT_VALUE);\r\n    const avatarRef = useRef();\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n\r\n        avatarRef.current.value = \"\";\r\n    }\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            name=\"update\"\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            submitButtonValue={buttonValue}\r\n            title=\"Обновить аватар\"\r\n            buttonText={'Сохранить'}\r\n        >\r\n                <input\r\n                    className=\"popup__input popup__input_type_avatar\"\r\n                    id=\"popup__avatar\"\r\n                    name=\"cardAvatar\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    required\r\n                    type=\"url\"\r\n                    ref={avatarRef}\r\n                />\r\n                <span className=\"popup__name-author-error popup__error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup (props) {\r\n    const [name, setName] = React.useState(\"\");\r\n\r\n    const [description, setDescription] = React.useState(\"\");\r\n\r\n    function handleNameInputChange(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    function handleDescriptionInputChange(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        if (props.isOpen) {\r\n            setName(currentUser.name);\r\n            setDescription(currentUser.about);\r\n        }\r\n    }, [props.isOpen, currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            name=\"update\"\r\n            title=\"Редактировать профиль\"\r\n            onClose={props.onClose}\r\n            buttonText={'Сохранить'}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input\r\n                className=\"popup__input popup__input_type_name\"\r\n                id=\"popup__name-author\"\r\n                name=\"username\"\r\n                placeholder=\"Имя\"\r\n                required\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={handleNameInputChange}\r\n            />\r\n            <span className=\"popup__name-author-error popup__error\"></span>\r\n            <input\r\n                className=\"popup__input popup__input_type_job\"\r\n                id=\"popup__link-author\"\r\n                name=\"userinfo\"\r\n                placeholder=\"Работа\"\r\n                required\r\n                type=\"text\"\r\n                value={description}\r\n                onChange={handleDescriptionInputChange}\r\n            />\r\n            <span className=\"popup__name-author-error popup__error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}","class Api {\n    constructor({adress,token}){\n        this._adress = adress; \n        this._token = token;\n    }\n    _checkApiRequest(res) {\n        if (res.ok) {\n            return res.json();\n        }\n\n        return Promise.reject(new Error(`${res.status}`));\n    }\n    getCard(){\n        return fetch(`${this._adress}/cards`,{\n            headers: {\n                authorization: this._token\n                \n            }\n        }).then(this._checkApiRequest);\n    }\n    getUserInfo(){\n        return fetch(`${this._adress}/users/me`,{\n            headers:{\n                authorization: '1c933ec4-a4fc-4d43-aaf4-c9a8a8844745',\n                'Content-Type': 'application/json'\n            }\n        }).then(this._checkApiRequest);\n    \n    }\n    getInitialData() {\n        return Promise.all([this.getUserInfo(), this.getCard()]);\n    }\n    editUserInfo(name,profession){\n        return fetch(`${this._adress}/users/me`,{\n            method: 'PATCH',\n            headers: {\n                authorization: '1c933ec4-a4fc-4d43-aaf4-c9a8a8844745',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: name,\n                about: profession\n            })\n        })\n            .then(this._checkApiRequest);\n        \n            \n    }\n    addCard(name,link){\n        return fetch(`${this._adress}/cards`,{\n            method: 'POST',\n            headers: {\n                authorization: '1c933ec4-a4fc-4d43-aaf4-c9a8a8844745',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: name,\n                link: link\n            })\n        })\n            .then(this._checkApiRequest);\n    }\n    deleteCard(id){\n        return fetch(`${this._adress}/cards/${id}`, {\n                method: 'DELETE',\n                headers: {\n                    authorization: '1c933ec4-a4fc-4d43-aaf4-c9a8a8844745',\n                    'Content-Type': 'application/json'\n                },\n        })\n            .then(this._checkApiRequest);\n    }\n    addLike(id){\n        return fetch(`${this._adress}/cards/likes/${id}`, {\n                method: 'PUT',\n                headers: {\n                    authorization: '1c933ec4-a4fc-4d43-aaf4-c9a8a8844745',\n                    'Content-Type': 'application/json'\n                },\n        })\n            .then(this._checkApiRequest);\n    }\n\n    //Удаление лайка\n    removeLike(id){\n        return fetch(`${this._adress}/cards/likes/${id}`, {\n                method: 'DELETE',\n                headers: {\n                    authorization: '1c933ec4-a4fc-4d43-aaf4-c9a8a8844745',\n                    'Content-Type': 'application/json'\n                },\n        })\n            .then(this._checkApiRequest);\n\n    }\n\n    editAvatar(data){\n        return fetch(`${this._adress}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: '1c933ec4-a4fc-4d43-aaf4-c9a8a8844745',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: data\n            })\n    })\n            .then(this._checkApiRequest);\n\n    }\n    changeLikeCardStatus(id, isLiked) {\n        return fetch(`${this._adress}/cards/likes/${id}`, {\n            method: isLiked ? \"DELETE\" : \"PUT\",\n            headers: {\n                authorization: '1c933ec4-a4fc-4d43-aaf4-c9a8a8844745',\n                'Content-Type': 'application/json'\n            },\n        }).then(this._checkApiRequest);\n    }\n}\n\nconst api = new Api({\n    adress:'https://mesto.nomoreparties.co/v1/cohort-22',\n    token:'1c933ec4-a4fc-4d43-aaf4-c9a8a8844745'\n\n})\n\nexport default api\n","import PopupWithForm from './PopupWithForm';\r\nimport React from \"react\";\r\n\r\nexport default function AddPlacePopup (props) {\r\n    const [title, setTitle] = React.useState(\"\");\r\n\r\n    const [link, setLink] = React.useState(\"\");\r\n\r\n    function handleTitleInputChange(evt) {\r\n        setTitle(evt.target.value);\r\n    }\r\n\r\n    function handleLinkInputChange(evt) {\r\n        setLink(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name: title,\r\n            link: link,\r\n        });\r\n\r\n        setTitle(\"\");\r\n        setLink(\"\");\r\n    }\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            name=\"update\"\r\n            title=\"Добавить карточку\"\r\n            onClose={props.onClose}\r\n            buttonText={'Сохранить'}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input\r\n                className=\"popup__input popup__input_type_mesto\"\r\n                id=\"popup__name\"\r\n                name=\"cardDescription\"\r\n                placeholder=\"Название\"\r\n                value={title}\r\n                required\r\n                type=\"text\"\r\n                onChange={handleTitleInputChange}\r\n            />\r\n            <span className=\"popup__name-author-error popup__error\"></span>\r\n            <input\r\n                className=\"popup__input popup__input_type_link\"\r\n                id=\"popup__link\"\r\n                name=\"cardImage\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                required\r\n                value={link}\r\n                type=\"url\"\r\n                onChange={handleLinkInputChange}\r\n            />\r\n            <span className=\"popup__name-author-error popup__error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}","import close from \"../images/Close.svg\";\r\nexport default function ImagePopup (props) {\r\n\r\n    return(\r\n<section className={`overlay ${props.card ? 'overlay_active' : ''}`}>\r\n    <div className=\"popup popup_bigImage\" onClick={props.onClose}>\r\n        <img src={props.card ? props.card.link : \"\"}\r\n             className=\"popup__picture\" alt={props.card ? props.card.name : \"\"}/>\r\n        <h3 className=\"popup__textpicture\">{props.card ? props.card.name : \"\"}</h3>\r\n        <button type=\"button\" onClick={props.onClose} className=\"overlay__button overlay__button_edit-picture\">\r\n            <img onClick={props.onClose} className=\"overlay__image\" src={close} alt=\"Крест\"/>\r\n        </button>\r\n    </div>\r\n</section>\r\n    )\r\n}","import PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function PopupDelete (props) {\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        props.onCardDelete(props.card._id);\r\n    }\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen}\r\n            name=\"update\"\r\n            onClose={props.onClose}\r\n            title=\"Вы уверены?\"\r\n            buttonText={'Да'}\r\n            onSubmit={handleSubmit}\r\n        >\r\n        </PopupWithForm>\r\n    );\r\n}","import React from 'react'\r\nimport vector from \"../images/Vector.svg\";\r\n\r\n\r\nfunction Registr(props){\r\n    const emailInput = React.useRef();\r\n    const passwordInput = React.useRef();\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onRegister(passwordInput.current.value,emailInput.current.value)\r\n    };\r\n\r\n    return (\r\n            <div className=\"form\">\r\n                <header className=\"header\">\r\n                    <img src={vector} className=\"header__logo\" alt=\"Место\"/>\r\n                    <a href={'/sign-in'} className={'header__link'}>Войти</a>\r\n                </header>\r\n                <main>\r\n                    <form onSubmit={handleSubmit} className={\"form__registration\"}>\r\n                        <h1 className={'form__name'}>Регистрация</h1>\r\n                        <input ref={emailInput} className={'form__input'} type={\"email\"} placeholder={'Email'}  />\r\n                        <input ref={passwordInput} className={'form__input'} type={\"password\"} placeholder={'Пароль'}  />\r\n                        <input  className={'form__submit'} type={\"submit\"} value={'Зарегистрироваться'}></input>\r\n                        <p className={'form__text'}>Уже зарегистрированы?\r\n                            <a className={'form__link'} href={'/sign-in'}>Войти</a>\r\n                        </p>\r\n                    </form>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\nexport default Registr;\r\n","import React from 'react';\r\nimport vector from \"../images/Vector.svg\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Header from \"./Header\";\r\n\r\n\r\nfunction Login(props){\r\n    const emailInput = React.useRef();\r\n    const passwordInput = React.useRef();\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onLogIn(passwordInput.current.value,emailInput.current.value)\r\n    };\r\n        return (\r\n            <div className=\"form\">\r\n                <Header />\r\n                <main>\r\n                    <form onSubmit={handleSubmit} className={\"form__registration\"}>\r\n                        <h1 className={'form__name'}>Вход</h1>\r\n                        <input  ref={emailInput} className={'form__input'} type={\"email\"} placeholder={'Email'} />\r\n                        <input  ref={passwordInput} className={'form__input'} type={\"password\"} placeholder={'Пароль'} />\r\n                        <input  className={'form__submit'} type={\"submit\"} value={'Войти'}></input>\r\n                    </form>\r\n\r\n                </main>\r\n            </div>\r\n        )\r\n}\r\nexport default Login;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {() =>\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n            }\r\n        </Route>\r\n    );\r\n};\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst handleOriginalResponse = (response) => {\r\n    if (response.ok){\r\n        return (response.json());\r\n    } else {\r\n        console.log('Ошибка');\r\n        Promise.reject(`Ошибка: ${response.status}`)\r\n        return ('Err')\r\n    }\r\n}\r\n\r\nexport const register = (password, email) => {\r\n    console.log(JSON.stringify({\"password\":password, \"email\":email}))\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\"password\":password, \"email\":email})\r\n    })\r\n        .then(handleOriginalResponse)\r\n};\r\n\r\nexport const logIn = (password, email) => {\r\n    console.log(JSON.stringify({\"password\":password, \"email\":email}))\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\"password\":password, \"email\":email})\r\n    })\r\n        .then(handleOriginalResponse)};\r\n\r\nexport const getToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(handleOriginalResponse)};","export default __webpack_public_path__ + \"static/media/Err.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Ok.1b6082f8.svg\";","import Err from '../images/Err.svg';\r\nimport Ok from '../images/Ok.svg';\r\nimport close from \"../images/Close.svg\";\r\nfunction InfoTooltip(props){\r\n    return(\r\n        <div className={`overlay ${props.isOpen ? 'overlay_active' : ''}`}>\r\n            <div className=\"popup__container\">\r\n                <button onClick={props.onClose} type=\"button\"  className=\"overlay__button overlay__button-profile\">\r\n                    <img onClick={props.onClose} className=\"overlay__image\" src={close} alt=\"Крест\"/>\r\n                </button>\r\n                <div className=\"popup__card\">\r\n                    <img src={props.isOk ? Ok : Err} className=\"popup__response\"/>\r\n                    <p className=\"popup__response-text\">{props.isOk ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default InfoTooltip;","import { useState, useEffect } from \"react\";\r\nimport {Redirect, Route, Switch, useHistory  } from 'react-router-dom';\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport '../index.css';\r\nimport api from '../utils/api';\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from './ImagePopup'\r\nimport PopupDelete from \"./PopupDelete\";\r\nimport Registr from \"./Registration\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { CardsContext } from \"../contexts/CardsContext\";\r\nimport Login from \"./Login\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport * as auth from '../utils/auth';\r\nimport InfoTooltip from \"./InfoTooltip\";\r\n\r\n\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen,setEditAvatarPopupOpen] = useState(false)\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false)\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false)\r\n  const [selectedCard, setSelectedCard] = useState(null)\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [deletedCard, setDeletedCard] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn,setLoggedIn] = useState(false);\r\n  const [tooltip, setTooltip] = useState(false);\r\n  const [email, setEmail] = useState(null);\r\n  const history = useHistory();\r\n    function signOut(){\r\n        localStorage.removeItem('jwt');\r\n        setLoggedIn(false);\r\n        history.push('/sign-in');\r\n        console.log(localStorage)\r\n    }\r\n    useEffect(()=>{\r\n        tokenCheck();\r\n    },[]);\r\n    useEffect(() => {\r\n    api\r\n        .getInitialData()\r\n        .then((response) => {\r\n          const [userData, cardsData] = response;\r\n\r\n          setCurrentUser(userData);\r\n          setCards(cardsData);\r\n        })\r\n        .catch((err) => console.log(\"Ошибка загрузки начальных данных - \" + err));\r\n  }, []);\r\n\r\n    useEffect(()=>{\r\n        if (loggedIn){\r\n            history.push('/profile');\r\n        }\r\n    },[loggedIn, email])\r\n    function tokenCheck () {\r\n        const jwt = localStorage.getItem('jwt');\r\n        if (jwt){\r\n            // проверим токен\r\n            auth.getToken(jwt)\r\n                .then((res) => {\r\n                    if (res){\r\n                        setEmail(res.data.email)\r\n                        setLoggedIn(true);\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n\r\n        }\r\n\r\n    }\r\n    function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false)\r\n    setEditProfilePopupOpen(false)\r\n    setAddPlacePopupOpen(false)\r\n    setSelectedCard(null)\r\n    setIsDeletePopupOpen(false)\r\n    setInfoTooltipOpen(false)\r\n  }\r\n  function handleEditAvatarClick (){\r\n    setEditAvatarPopupOpen(true)\r\n  }\r\n  function handleEditProfileClick(){\r\n    setEditProfilePopupOpen(true)\r\n  }\r\n  function handleAddPlaceClick(){\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n  function handleCardDeleteClick(card) {\r\n    setIsDeletePopupOpen(true);\r\n\r\n    setDeletedCard(card);\r\n  }\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n        .changeLikeCardStatus(card._id, isLiked)\r\n        .then((newCard) => {\r\n          setCards((state) =>\r\n              state.map((c) => (c._id === card._id ? newCard : c))\r\n          );\r\n        })\r\n        .catch((err) => console.log(\"Ошибка постановки лайка/дизлайка - \" + err));\r\n  }\r\n  function handleUpdateUser({ name, about }) {\r\n\r\n    api\r\n        .editUserInfo(name, about)\r\n        .then((userData) => {\r\n          setCurrentUser(userData);\r\n\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) =>\r\n            console.log(\"Ошибка обновления данных пользователя - \" + err)\r\n        );\r\n  }\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api\r\n        .editAvatar(avatar)\r\n        .then((userData) => {\r\n          setCurrentUser(userData);\r\n\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) =>\r\n            console.log(\"Ошибка обновления аватара пользователя - \" + err)\r\n        );\r\n  }\r\n\r\n  function handleAddPlaceSubmit({ name, link }) {\r\n    api\r\n        .addCard(name, link)\r\n        .then((cardsData) => {\r\n          setCards([cardsData, ...cards]);\r\n\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => console.log(\"Ошибка добавления новой карточки - \" + err));\r\n  }\r\n\r\n  function handleDeleteCardSubmit(id) {\r\n    api\r\n        .deleteCard(id)\r\n        .then(() => {\r\n          setCards((cardsData) => cardsData.filter((card) => id !== card._id));\r\n\r\n          closeAllPopups();\r\n        })\r\n        .catch((err) => console.log(\"Ошибка удаления карточки - \" + err));\r\n  }\r\n    function handleRegistration(password, email){\r\n        auth.register(password, email)\r\n            .then((data)=>{\r\n                if (data === 'Err'){\r\n                    setInfoTooltipOpen(true);\r\n                } else {\r\n                    setTooltip(!tooltip)\r\n                    setInfoTooltipOpen(true);\r\n                }\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n    function handleLogIn(password, email){\r\n        auth.logIn(password, email)\r\n            .then((data)=>{\r\n                if (data === 'Err'){\r\n\r\n                } else {\r\n                    localStorage.setItem('jwt', data.token);\r\n                    setLoggedIn(true);\r\n                    history.push('/profile');\r\n                }\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <CardsContext.Provider value={cards}>\r\n                <div className=\"page\">\r\n                    <Header email={email} link='/sign-in' signOut={signOut} title={\"Выйти\"} />\r\n                    <EditAvatarPopup\r\n                        isOpen={isEditAvatarPopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onUpdateAvatar={handleUpdateAvatar}\r\n                    />\r\n                    <EditProfilePopup\r\n                        isOpen={isEditProfilePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onUpdateUser={handleUpdateUser}\r\n                    />\r\n                    <AddPlacePopup\r\n                        isOpen={isAddPlacePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onAddPlace={handleAddPlaceSubmit}\r\n                    />\r\n                    <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n                    <PopupDelete\r\n                        card={deletedCard}\r\n                        isOpen={isDeletePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onCardDelete={handleDeleteCardSubmit}\r\n                    />\r\n          <Switch>\r\n              <ProtectedRoute path='/profile'\r\n                              loggedIn={loggedIn}\r\n                              component={Main}\r\n                              onAddPlace={handleAddPlaceClick}\r\n                              onEditAvatar={handleEditAvatarClick}\r\n                              onEditProfile={handleEditProfileClick}\r\n                              onCardClick={handleCardClick}\r\n                              onCardDelete={handleCardDeleteClick}\r\n                              onCardLike={handleCardLike}\r\n              />\r\n              <Route path=\"/sign-up\">\r\n                  <Registr onRegister={handleRegistration} />\r\n              </Route>\r\n              <Route path=\"/sign-in\">\r\n                  <Login onLogIn={handleLogIn} />\r\n              </Route>\r\n              <Route exact path=\"/\">\r\n                  {loggedIn ? <Redirect to=\"/profile\" /> : <Redirect to=\"/sign-in\" />}\r\n              </Route>\r\n\r\n\r\n          </Switch>\r\n            <InfoTooltip isOk={tooltip} isOpen={isInfoTooltipOpen} onClose={closeAllPopups}/>\r\n                <Footer />\r\n               </div>\r\n        </CardsContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n\r\n}\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n         <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}